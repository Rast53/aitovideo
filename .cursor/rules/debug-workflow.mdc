---
description: Отладка багов после деплоя в aitovideo. Триггер: баг/ошибка после деплоя/выкатки.
alwaysApply: true
---

# Отладка после деплоя (aitovideo)

## Триггер
Любое сочетание: маркер деплоя + маркер проблемы.

**Маркеры деплоя:** деплой, deploy, выкат, после выката, swarm, stack deploy, docker.
**Маркеры проблемы:** баг, ошибка, не работает, сломалось, bug, broken, fails, crash.

## Алгоритм
1. Запусти `@debug-fixer` немедленно в том же чате.
2. Уточни (не блокируй если нет): ожидаемое vs фактическое, шаги воспроизведения, что задеплоили.
3. Итерации: локализация → фикс или диагностическое логирование → деплой в Swarm → проверка.

## Особенности aitovideo
- **UI (Mini App) в Telegram** — нельзя автопроверить агентом, нужен человек.
- **Backend API** — агент проверяет через `curl` к `/health` и эндпоинтам.
- **Bot** — проверить через отправку тестовой ссылки боту.
- Логи смотреть через: `docker service logs aitovideo_backend --tail 100`

## Деплой после фикса
```bash
docker stack deploy -c docker-compose.swarm.yml aitovideo
```

## Формат результата
- Корневая причина
- Что изменено
- Команда деплоя
- Что проверить после (и кому — агенту или человеку)
