---
description: "Очистка, рефакторинг, удаление мёртвого кода — без изменения поведения."
alwaysApply: false
---

# Cleanup & Refactor

Применять при задачах: дубликаты, мёртвый код, соответствие правилам, документация.

## Дублирование
- Искать по семантике (одинаковое назначение), не только по имени
- Объединять в shared/lib/utils с одним экспортом
- После объединения: `./scripts/check.sh`

## Мёртвый код
- Неэкспортируемые функции, нигде не вызываемые
- Экспорты без импортеров
- Неиспользуемые импорты, закомментированные блоки
- Перед удалением: убедиться, что нет динамических вызовов

## Порядок действий
1. Определить scope (файл, папка, модуль)
2. Найти кандидатов
3. Составить план без изменения поведения
4. Вносить пошагово — после каждого шага: `./scripts/check.sh`
5. Обновить документацию если затронуто

## Запреты
- Не делать рефакторинг в одном PR с функциональными изменениями
- Не переименовывать публичные API без согласования
