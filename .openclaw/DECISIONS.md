# AitoVideo — Принятые решения

## 2026-02-26: Профили качества YouTube и zoom в плеере Mini App

**Решение:** Для YouTube-плеера используем серверный query-параметр `quality` (`360|720|1080`) и UI-селектор качества в Mini App с сохранением выбора в `localStorage`. Для просмотра на мобильных добавлен zoom (`pinch-to-zoom` + fallback-кнопки `+/-`) и double-tap reset.

**Контекст:**
- Нужен быстрый контроль качества без отдельного экрана настроек.
- В Telegram Mini App часто есть letterboxing, поэтому zoom > 100% улучшает UX.
- Пользователь ожидает, что выбранное качество сохраняется между сессиями.

**Альтернативы:**
- Отдельная страница настроек качества (хуже UX в fullscreen-плеере).
- Только gesture-based zoom без кнопок (не покрывает устройства/браузеры с ограниченными touch-жестами).

**Последствия:**
- Backend `GET /api/youtube/stream/:videoId` должен учитывать `quality` в format selector и кэше stream URL.
- Frontend `Player` хранит пользовательское качество в `localStorage` и применяет `transform: scale()` к media-контейнеру.

---

## 2025-02-26: Переход на AI-native workflow

**Решение:** Настраиваем автономную работу агентов под управлением Kimi Claw.

**Контекст:**
- Пилотный проект для нового подхода
- Полная автономия агентов с возможностью ручного вмешательства
- Ты сам можешь кодировать с агентом в Cursor IDE

**Структура управления:**
1. Kimi Claw — оркестрация, контекст, контроль
2. Cursor Cloud Agent — выполнение задач в репо
3. Иван — финальное ревью критичных изменений, совместное кодирование

**Инфраструктура:**
- `.openclaw/` — контекст для агентов
- GitHub Projects — трекинг (автоматическое обновление)
- GitHub Actions — CI/CD, автоматические проверки

---

## 2025-02-21: Стек и архитектура

**Решение:** Node.js + SQLite + React Mini App

**Почему:**
- Простота деплоя (один бинарник)
- SQLite достаточно для MVP
- React — стандарт для Mini Apps

---

*[Шаблон для новых решений]*

## YYYY-MM-DD: Краткое описание

**Решение:** Что решили

**Контекст:** Почему решили именно так

**Альтернативы:** Что рассматривали

**Последствия:** Что теперь нельзя менять без пересмотра
